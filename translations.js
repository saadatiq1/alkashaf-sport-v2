// نظام الترجمة للموقع الأصلي
const translations = {
    ar: {
        // الصفحة الرئيسية
        site_title: "الكشاف سبورت",
        site_subtitle: "منصة اكتشاف المواهب الرياضية",
        welcome_title: "مرحباً بك في الكشاف سبورت",
        welcome_subtitle: "منصة رقمية متطورة تهدف إلى اكتشاف وتطوير المواهب الرياضية، تربط بين اللاعبين الموهوبين والكشافين والأندية المحترفة لخلق فرص حقيقية في عالم الرياضة.",
        sports_talent: "موهبة رياضية",
        sports_talent_desc: "اعرض مهاراتك الرياضية واحصل على فرص للتعاقد مع الأندية",
        scout_club: "كشاف / نادي",
        scout_club_desc: "ابحث عن أفضل المواهب الرياضية وتعاقد معهم",
        get_started: "ابدأ الآن",
        login: "تسجيل الدخول",
        signup: "حساب جديد",
        
        // صفحة العضو
        logout: "تسجيل الخروج",
        welcome_member: "مرحباً",
        member_subtitle: "أهلاً بك في صفحتك الشخصية في الكشاف سبورت",
        my_profile: "ملفي الشخصي",
        sports_info: "معلوماتك الرياضية",
        completed: "مكتمل",
        available_opportunities: "الفرص المتاحة",
        club_offers: "عروض الأندية",
        new_opportunity: "فرصة جديدة",
        ratings: "التقييمات",
        from_scouts: "من كشافي الكشاف سبورت",
        out_of_5: "من 5",
        views: "المشاهدات",
        profile_visits: "زيارات الملف",
        this_month: "هذا الشهر",
        recent_activity: "النشاط الأخير",
        profile_updated: "تم تحديث ملفك الشخصي",
        two_hours_ago: "منذ ساعتين",
        scout_viewed: "شاهد كشاف جديد ملفك",
        four_hours_ago: "منذ 4 ساعات",
        new_message: "رسالة جديدة من نادي الهلال",
        one_day_ago: "منذ يوم واحد",
        
        // صفحات التسجيل
        site_title: "الكشاف سبورت",
        create_new_account: "إنشاء حساب جديد",
        login_title: "تسجيل الدخول",
        scout_club_title: "كشاف/نادي",
        create_talent_desc: "أنشئ حسابك كموهبة رياضية واعرض مهاراتك",
        create_scout_desc: "أنشئ حسابك ككشاف أو نادي واكتشف المواهب",
        full_name: "الاسم الكامل *",
        email: "البريد الإلكتروني *",
        phone: "رقم الهاتف *",
        username: "اسم المستخدم *",
        password: "كلمة المرور *",
        confirm_password: "تأكيد كلمة المرور *",
        enter_full_name: "أدخل اسمك الكامل",
        enter_email: "أدخل بريدك الإلكتروني",
        enter_phone: "أدخل رقم هاتفك",
        choose_username: "اختر اسم مستخدم فريد",
        enter_password: "أدخل كلمة مرور قوية",
        confirm_password_placeholder: "أعد إدخال كلمة المرور",
        create_account: "إنشاء الحساب",
        login_btn: "الدخول",
        back_home: "العودة للرئيسية",
        
        // اللغات
        arabic: "العربية",
        english: "الإنجليزية",
        french: "الفرنسية",
        spanish: "الإسبانية",
        
        // Footer
        contact_us: "للتواصل معنا",
        footer_text: "© 2024 الكشاف سبورت - جميع الحقوق محفوظة",
        
        // صفحة معلومات الدفع
        payment_info_title: "معلومات الدفع والاشتراك",
        payment_info_subtitle: "اختر طريقة الدفع المناسبة لك",
        bank_transfer: "التحويل البنكي",
        digital_payment: "الدفع الإلكتروني",
        back_to_home: "العودة للرئيسية"
    },
    
    en: {
        // Homepage
        site_title: "AlKashaf Sport",
        site_subtitle: "Sports Talent Discovery Platform",
        welcome_title: "Welcome to AlKashaf Sport",
        welcome_subtitle: "An advanced digital platform aimed at discovering and developing sports talents, connecting talented players with scouts and professional clubs to create real opportunities in the sports world.",
        sports_talent: "Sports Talent",
        sports_talent_desc: "Showcase your sports skills and get opportunities to contract with clubs",
        scout_club: "Scout / Club",
        scout_club_desc: "Find the best sports talents and contract with them",
        get_started: "Get Started",
        login: "Login",
        signup: "Sign Up",
        
        // Member page
        logout: "Logout",
        welcome_member: "Welcome",
        member_subtitle: "Welcome to your personal page in AlKashaf Sport",
        my_profile: "My Profile",
        sports_info: "Your sports information",
        completed: "Completed",
        available_opportunities: "Available Opportunities",
        club_offers: "Club offers",
        new_opportunity: "New opportunity",
        ratings: "Ratings",
        from_scouts: "From AlKashaf Sport scouts",
        out_of_5: "out of 5",
        views: "Views",
        profile_visits: "Profile visits",
        this_month: "This month",
        recent_activity: "Recent Activity",
        profile_updated: "Your profile has been updated",
        two_hours_ago: "2 hours ago",
        scout_viewed: "A new scout viewed your profile",
        four_hours_ago: "4 hours ago",
        new_message: "New message from Al Hilal Club",
        one_day_ago: "1 day ago",
        
        // Registration pages
        site_title: "AlKashaf Sport",
        create_new_account: "Create New Account",
        login_title: "Login",
        scout_club_title: "Scout/Club",
        create_talent_desc: "Create your account as a sports talent and showcase your skills",
        create_scout_desc: "Create your account as a scout or club and discover talents",
        full_name: "Full Name *",
        email: "Email *",
        phone: "Phone Number *",
        username: "Username *",
        password: "Password *",
        confirm_password: "Confirm Password *",
        enter_full_name: "Enter your full name",
        enter_email: "Enter your email",
        enter_phone: "Enter your phone number",
        choose_username: "Choose a unique username",
        enter_password: "Enter a strong password",
        confirm_password_placeholder: "Re-enter password",
        create_account: "Create Account",
        login_btn: "Login",
        back_home: "Back to Home",
        
        // Languages
        arabic: "Arabic",
        english: "English",
        french: "French",
        spanish: "Spanish",
        
        // Footer
        contact_us: "Contact Us",
        footer_text: "© 2024 AlKashaf Sport - All Rights Reserved",
        
        // Payment info page
        payment_info_title: "Payment & Subscription Information",
        payment_info_subtitle: "Choose your preferred payment method",
        bank_transfer: "Bank Transfer",
        digital_payment: "Digital Payment",
        back_to_home: "Back to Home"
    },
    
    fr: {
        // Page d'accueil
        site_title: "AlKashaf Sport",
        site_subtitle: "Plateforme de Découverte de Talents Sportifs",
        welcome_title: "Bienvenue à AlKashaf Sport",
        welcome_subtitle: "Une plateforme numérique avancée visant à découvrir et développer les talents sportifs, connectant les joueurs talentueux avec les recruteurs et les clubs professionnels pour créer de vraies opportunités dans le monde du sport.",
        sports_talent: "Talent Sportif",
        sports_talent_desc: "Montrez vos compétences sportives et obtenez des opportunités de contrat avec les clubs",
        scout_club: "Recruteur / Club",
        scout_club_desc: "Trouvez les meilleurs talents sportifs et contractez avec eux",
        get_started: "Commencer",
        login: "Connexion",
        signup: "S'inscrire",
        
        // Page membre
        logout: "Déconnexion",
        welcome_member: "Bienvenue",
        member_subtitle: "Bienvenue sur votre page personnelle dans AlKashaf Sport",
        my_profile: "Mon Profil",
        sports_info: "Vos informations sportives",
        completed: "Terminé",
        available_opportunities: "Opportunités Disponibles",
        club_offers: "Offres de clubs",
        new_opportunity: "Nouvelle opportunité",
        ratings: "Évaluations",
        from_scouts: "Des recruteurs AlKashaf Sport",
        out_of_5: "sur 5",
        views: "Vues",
        profile_visits: "Visites du profil",
        this_month: "Ce mois-ci",
        recent_activity: "Activité Récente",
        profile_updated: "Votre profil a été mis à jour",
        two_hours_ago: "Il y a 2 heures",
        scout_viewed: "Un nouveau recruteur a vu votre profil",
        four_hours_ago: "Il y a 4 heures",
        new_message: "Nouveau message du Club Al Hilal",
        one_day_ago: "Il y a 1 jour",
        
        // Pages d'inscription
        site_title: "AlKashaf Sport",
        create_new_account: "Créer un Nouveau Compte",
        login_title: "Connexion",
        scout_club_title: "Recruteur/Club",
        create_talent_desc: "Créez votre compte en tant que talent sportif et montrez vos compétences",
        create_scout_desc: "Créez votre compte en tant que recruteur ou club et découvrez les talents",
        full_name: "Nom Complet *",
        email: "Email *",
        phone: "Numéro de Téléphone *",
        username: "Nom d'utilisateur *",
        password: "Mot de Passe *",
        confirm_password: "Confirmer le Mot de Passe *",
        enter_full_name: "Entrez votre nom complet",
        enter_email: "Entrez votre email",
        enter_phone: "Entrez votre numéro de téléphone",
        choose_username: "Choisissez un nom d'utilisateur unique",
        enter_password: "Entrez un mot de passe fort",
        confirm_password_placeholder: "Ressaisissez le mot de passe",
        create_account: "Créer le Compte",
        login_btn: "Connexion",
        back_home: "Retour à l'Accueil",
        
        // Langues
        arabic: "Arabe",
        english: "Anglais",
        french: "Français",
        spanish: "Espagnol",
        
        // Page d'informations de paiement
        payment_info_title: "Informations de Paiement et d'Abonnement",
        payment_info_subtitle: "Choisissez votre méthode de paiement préférée",
        bank_transfer: "Virement Bancaire",
        digital_payment: "Paiement Numérique",
        back_to_home: "Retour à l'Accueil"
    },
    
    es: {
        // Página de inicio
        site_title: "AlKashaf Sport",
        site_subtitle: "Plataforma de Descubrimiento de Talentos Deportivos",
        welcome_title: "Bienvenido a AlKashaf Sport",
        welcome_subtitle: "Una plataforma digital avanzada destinada a descubrir y desarrollar talentos deportivos, conectando jugadores talentosos con ojeadores y clubes profesionales para crear oportunidades reales en el mundo del deporte.",
        sports_talent: "Talento Deportivo",
        sports_talent_desc: "Muestra tus habilidades deportivas y obtén oportunidades de contrato con clubes",
        scout_club: "Ojeador / Club",
        scout_club_desc: "Encuentra los mejores talentos deportivos y contrata con ellos",
        get_started: "Comenzar",
        login: "Iniciar sesión",
        signup: "Registrarse",
        
        // Página de miembro
        logout: "Cerrar sesión",
        welcome_member: "Bienvenido",
        member_subtitle: "Bienvenido a tu página personal en AlKashaf Sport",
        my_profile: "Mi Perfil",
        sports_info: "Tu información deportiva",
        completed: "Completado",
        available_opportunities: "Oportunidades Disponibles",
        club_offers: "Ofertas de clubes",
        new_opportunity: "Nueva oportunidad",
        ratings: "Calificaciones",
        from_scouts: "De los ojeadores de AlKashaf Sport",
        out_of_5: "de 5",
        views: "Vistas",
        profile_visits: "Visitas al perfil",
        this_month: "Este mes",
        recent_activity: "Actividad Reciente",
        profile_updated: "Tu perfil ha sido actualizado",
        two_hours_ago: "Hace 2 horas",
        scout_viewed: "Un nuevo ojeador vio tu perfil",
        four_hours_ago: "Hace 4 horas",
        new_message: "Nuevo mensaje del Club Al Hilal",
        one_day_ago: "Hace 1 día",
        
        // Páginas de registro
        site_title: "AlKashaf Sport",
        create_new_account: "Crear Nueva Cuenta",
        login_title: "Iniciar Sesión",
        scout_club_title: "Ojeador/Club",
        create_talent_desc: "Crea tu cuenta como talento deportivo y muestra tus habilidades",
        create_scout_desc: "Crea tu cuenta como ojeador o club y descubre talentos",
        full_name: "Nombre Completo *",
        email: "Email *",
        phone: "Número de Teléfono *",
        username: "Nombre de Usuario *",
        password: "Contraseña *",
        confirm_password: "Confirmar Contraseña *",
        enter_full_name: "Ingresa tu nombre completo",
        enter_email: "Ingresa tu email",
        enter_phone: "Ingresa tu número de teléfono",
        choose_username: "Elige un nombre de usuario único",
        enter_password: "Ingresa una contraseña fuerte",
        confirm_password_placeholder: "Reingresa la contraseña",
        create_account: "Crear Cuenta",
        login_btn: "Iniciar Sesión",
        back_home: "Volver al Inicio",
        
        // Idiomas
        arabic: "Árabe",
        english: "Inglés",
        french: "Francés",
        spanish: "Español",
        
        // Página de información de pago
        payment_info_title: "Información de Pago y Suscripción",
        payment_info_subtitle: "Elige tu método de pago preferido",
        bank_transfer: "Transferencia Bancaria",
        digital_payment: "Pago Digital",
        back_to_home: "Volver al Inicio"
    }
};

// وظيفة الترجمة
function translatePage(lang) {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // ترجمة placeholders
    const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
    placeholderElements.forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        if (translations[lang] && translations[lang][key]) {
            element.placeholder = translations[lang][key];
        }
    });
    
    // ترجمة النصوص المباشرة
    const allElements = document.querySelectorAll('*');
    allElements.forEach(element => {
        if (element.children.length === 0) { // عنصر يحتوي على نص فقط
            const text = element.textContent.trim();
            
            // ترجمة النصوص المحددة
            if (text === "إنشاء حساب جديد") {
                element.textContent = translations[lang].create_new_account;
            } else if (text === "أنشئ حسابك كموهبة رياضية واعرض مهاراتك") {
                element.textContent = translations[lang].create_talent_desc;
            } else if (text === "أنشئ حسابك ككشاف أو نادي واكتشف المواهب") {
                element.textContent = translations[lang].create_scout_desc;
            } else if (text === "الكشاف سبورت") {
                element.textContent = translations[lang].site_title;
            }
        }
    });
    
    // تغيير اتجاه النص
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.lang = lang;
    
    // حفظ اللغة المختارة
    localStorage.setItem('selectedLanguage', lang);
    
    // تحديث قائمة اللغات
    const languageSelect = document.getElementById('languageSelect');
    if (languageSelect) {
        languageSelect.value = lang;
    }
}

// تحميل اللغة المحفوظة عند تحميل الصفحة
document.addEventListener('DOMContentLoaded', function() {
    const savedLang = localStorage.getItem('selectedLanguage') || 'ar';
    translatePage(savedLang);
});

// وظيفة تغيير اللغة
function changeLanguage(lang) {
    translatePage(lang);
}

// إضافة نظام الترجمة للموقع الأصلي
window.addEventListener('load', function() {
    // البحث عن العناصر وإضافة data-translate
    setTimeout(() => {
        // إضافة قائمة اللغات لجميع الصفحات
        addLanguageSelector();
        
        // تطبيق الترجمة على العناصر الموجودة
        applyTranslationToExistingElements();
        
        // تطبيق الترجمة
        const savedLang = localStorage.getItem('selectedLanguage') || 'ar';
        translatePage(savedLang);
    }, 1000);
});

// تطبيق الترجمة على العناصر الموجودة
function applyTranslationToExistingElements() {
    // العنوان الرئيسي
    const mainTitle = document.querySelector('h2');
    if (mainTitle && mainTitle.textContent.includes('Welcome to AlKashaf')) {
        mainTitle.setAttribute('data-translate', 'welcome_title');
    }
    
    // البحث عن العناوين
    const headings = document.querySelectorAll('h1, h2, h3, h4');
    headings.forEach(heading => {
        const text = heading.textContent.trim();
        if (text.includes('الكشاف سبورت') || text.includes('AlKashaf Sport')) {
            heading.setAttribute('data-translate', 'site_title');
        } else if (text.includes('إنشاء حساب جديد')) {
            heading.setAttribute('data-translate', 'create_new_account');
        } else if (text.includes('تسجيل الدخول')) {
            heading.setAttribute('data-translate', 'login_title');
        } else if (text.includes('موهبة رياضية')) {
            heading.setAttribute('data-translate', 'sports_talent');
        } else if (text.includes('كشاف/نادي')) {
            heading.setAttribute('data-translate', 'scout_club_title');
        }
    });
    
    // البحث عن الأوصاف
    const paragraphs = document.querySelectorAll('p');
    paragraphs.forEach(p => {
        const text = p.textContent.trim();
        if (text.includes('أنشئ حسابك كموهبة رياضية')) {
            p.setAttribute('data-translate', 'create_talent_desc');
        } else if (text.includes('أنشئ حسابك ككشاف أو نادي')) {
            p.setAttribute('data-translate', 'create_scout_desc');
        }
    });
    
    // البحث عن الأزرار
    const buttons = document.querySelectorAll('button, a');
    buttons.forEach(btn => {
        const text = btn.textContent.trim();
        if (text.includes('Get Started') || text.includes('ابدأ الآن')) {
            btn.setAttribute('data-translate', 'get_started');
        } else if (text.includes('تسجيل الدخول') && !text.includes('إنشاء')) {
            btn.setAttribute('data-translate', 'login');
        } else if (text.includes('حساب جديد')) {
            btn.setAttribute('data-translate', 'signup');
        } else if (text.includes('إنشاء الحساب')) {
            btn.setAttribute('data-translate', 'create_account');
        } else if (text.includes('الدخول')) {
            btn.setAttribute('data-translate', 'login_btn');
        } else if (text.includes('العودة للرئيسية')) {
            btn.setAttribute('data-translate', 'back_home');
        }
    });
    
    // البحث عن حقول الإدخال
    const labels = document.querySelectorAll('label');
    labels.forEach(label => {
        const text = label.textContent.trim();
        if (text.includes('الاسم الكامل')) {
            label.setAttribute('data-translate', 'full_name');
        } else if (text.includes('البريد الإلكتروني')) {
            label.setAttribute('data-translate', 'email');
        } else if (text.includes('رقم الهاتف')) {
            label.setAttribute('data-translate', 'phone');
        } else if (text.includes('اسم المستخدم')) {
            label.setAttribute('data-translate', 'username');
        } else if (text.includes('كلمة المرور')) {
            label.setAttribute('data-translate', 'password');
        } else if (text.includes('تأكيد كلمة المرور')) {
            label.setAttribute('data-translate', 'confirm_password');
        }
    });
    
    // البحث عن placeholders
    const inputs = document.querySelectorAll('input');
    inputs.forEach(input => {
        const placeholder = input.placeholder;
        if (placeholder.includes('أدخل اسمك الكامل')) {
            input.setAttribute('data-translate-placeholder', 'enter_full_name');
        } else if (placeholder.includes('أدخل بريدك الإلكتروني')) {
            input.setAttribute('data-translate-placeholder', 'enter_email');
        } else if (placeholder.includes('أدخل رقم هاتفك')) {
            input.setAttribute('data-translate-placeholder', 'enter_phone');
        } else if (placeholder.includes('اختر اسم مستخدم فريد')) {
            input.setAttribute('data-translate-placeholder', 'choose_username');
        } else if (placeholder.includes('أدخل كلمة مرور قوية')) {
            input.setAttribute('data-translate-placeholder', 'enter_password');
        } else if (placeholder.includes('أعد إدخال كلمة المرور')) {
            input.setAttribute('data-translate-placeholder', 'confirm_password_placeholder');
        }
    });
}

// إضافة قائمة اللغات
function addLanguageSelector() {
    // إزالة جميع أزرار اللغات القديمة بقوة
    const oldSelectors = document.querySelectorAll('select');
    oldSelectors.forEach(select => {
        if (select.innerHTML.includes('العربية') || select.innerHTML.includes('English')) {
            if (select.id !== 'languageSelect') {
                select.parentElement.remove();
            }
        }
    });
    
    // إزالة أي div يحتوي على أزرار لغات
    const allDivs = document.querySelectorAll('div');
    allDivs.forEach(div => {
        if (div.innerHTML.includes('العربية') && div.innerHTML.includes('English') && !div.querySelector('#languageSelect')) {
            div.remove();
        }
    });
    
    // البحث عن المكان المناسب لإضافة قائمة اللغات
    const header = document.querySelector('header') || document.querySelector('.bg-blue-600') || document.body;
    
    // التحقق من عدم وجود قائمة اللغات الجديدة
    if (!document.getElementById('languageSelect')) {
        const languageContainer = document.createElement('div');
        languageContainer.style.cssText = 'position: absolute; top: 120px; left: 10px; z-index: 1000;';
        languageContainer.id = 'newLanguageContainer';
        
        const languageSelect = document.createElement('select');
        languageSelect.id = 'languageSelect';
        languageSelect.style.cssText = 'padding: 8px; border-radius: 8px; border: 1px solid #ccc; background: white; color: #333; font-size: 14px;';
        languageSelect.onchange = function() { changeLanguage(this.value); };
        
        languageSelect.innerHTML = `
            <option value="ar">🇸🇦 العربية</option>
            <option value="en">🇺🇸 English</option>
            <option value="fr">🇫🇷 Français</option>
            <option value="es">🇪🇸 Español</option>
        `;
        
        languageContainer.appendChild(languageSelect);
        
        // إضافة القائمة للصفحة
        if (header === document.body) {
            document.body.insertBefore(languageContainer, document.body.firstChild);
        } else {
            header.appendChild(languageContainer);
        }
        
        // تطبيق اللغة المحفوظة
        const savedLang = localStorage.getItem('selectedLanguage') || 'ar';
        languageSelect.value = savedLang;
    }
    
    // مراقبة مستمرة لإزالة أي أزرار جديدة
    setTimeout(() => {
        const unwantedSelectors = document.querySelectorAll('select:not(#languageSelect)');
        unwantedSelectors.forEach(select => {
            if (select.innerHTML.includes('العربية') || select.innerHTML.includes('English')) {
                select.parentElement.remove();
            }
        });
    }, 2000);
}